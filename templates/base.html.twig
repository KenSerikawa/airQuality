<!DOCTYPE html>
{% macro displayNavbar() %}
    <nav class="navbar ">
        <a class="navbar-brand silver" href="{{path('app.index')}}">
            <i class="fas fa-cloud"></i>
            AirQuality
        </a>
        <button class="navbar-toggler border-0" type="button" data-toggle="collapse" 
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    {{_self.displaySearchForm()}}
    </nav>
{% endmacro %}

{% macro displaySearchForm() %}
    <div class="" id="navbarSupportedContent" style="position:relative">
        <form action="{{path('app.search')}}" method="POST" class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2 input-lg" style="" list="cities_list" type="search" name="search" placeholder="City" aria-label="Search">
            <button class="btn my-2 my-sm-0 silver submit-button" type="submit" name="submit">
                <i class="fas fa-arrow-right fa-lg"></i>
            </button>
        </form>
    </div>
{% endmacro %}

{% macro displayDatalist(cities) %}
    <datalist id="cities_list">
    {% for city in cities %} 
        <option value="{{city}}">{{city}}</option>
    {% endfor %}
    </datalist>
{% endmacro %}

<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <link rel="stylesheet" href="{{asset('/css/all.css')}}">
        <link rel="stylesheet" href="{{asset('/css/styles.css')}}">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
        {% block stylesheets %}{% endblock %}
    </head>
    <body>
        <canvas id="drawing-surface" style="position:absolute; left: 0; top: 0;"></canvas>        
        {{_self.displayDatalist(cities)}}

        <div class="container pb-5 h-100">
            {% block body %}{% endblock %}
        </div>

        <footer class="footer" style="background-color: transparent !important">
            <div class="container text-center">
                Powered by <a href="https://aqicn.org/">aqicn.org</a>
            </div>
        </footer>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        {% block javascripts %}{% endblock %}
    </body>
</html>
